{% extends 'base.html.twig' %}

{% block body %}
    <h1 class="text-center">Books list</h1>

    <div class="container">
        <div class="row">
                <div class="dropdown">
                    <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Category
                    </button>
                    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                        {% for category in categorys %}
                            <a class="dropdown-item" href="{{ path('sort', { 'category': category.category }) }}">{{ category.category }}</a>
                        {% endfor %}
                    </div>
                </div>
            <div class="row col-12">
                    {% for book in books %}
                        <div class="col-10 col-sm-6 col-lg-4 my-5">
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item"><h2>{{ book.title }}</h2></li>
                                <li class="list-group-item">Author : {{ book.author }}</li>
                                <li class="list-group-item">Release date : {% if book.releaseDate %}{{ book.releaseDate|date('d-m-Y') }}{% endif %}</li>
                                <li class="list-group-item">Avaible : {% if book.avaible %}Yes{% else %}No{% endif %}</li>
                                <li class="list-group-item"><SPAN class="mr-5">See more : </SPAN>
                                    <a href="{{ path('book_show', { 'id': book.id }) }}"><i class="fa fa-info" aria-hidden="true"></i></a>
                                </li>
                                <li class="list-group-item"><SPAN class="mr-5">Edit book : </SPAN>
                                    <a href="{{ path('book_edit', { 'id': book.id }) }}"><i class="fa fa-wrench" aria-hidden="true"></i></a>
                                </li>
                            </ul>
                        </div>
                    {% endfor %}
            </div>
        </div>
    </div>


{% endblock %}
